---
title: 项目中遇到的递归
date: 2019-10-29 22:21:31
tags:
- Javascript
categories:
- web前端
---
### 1. 输出josn树形结构数组 ###

> 根据一维数组中的parentId，输出josn树形结构数组

```javascript
let list = [
  { id: 1, name: "办公管理", pid: 0 },
  { id: 2, name: "请假申请", pid: 1 },
  { id: 3, name: "出差申请", pid: 1 },
  { id: 4, name: "请假记录", pid: 2 },
  { id: 5, name: "系统设置", pid: 0 },
  { id: 6, name: "权限管理", pid: 5 },
  { id: 7, name: "用户角色", pid: 6 },
  { id: 8, name: "菜单设置", pid: 6 },
]
```

```javascript
function getJsonTree (arr, parentId) {
  let data = []
  for (let i = 0; i < arr.length; i++) {
    let node = arr[i]
    if (node.pid === parentId) {
      node.children = getJsonTree(arr, node.id)
       data.push(node)
    }
  }
  return data
}
```

### 2. josn树形结构数组转化为一维数组 ###

```javascript
var treeNodes = [
    {
     id: 1,
     name: '1',
     children: [
       {
        id: 11,
        name: '11',
        children: [
         {
          id: 111,
          name: '111',
          children:[]
          },
          {
            id: 112,
            name: '112'
           }
          ]
         },
         {
          id: 12,
          name: '12',
          children: []
         }
         ],
         users: []
        },
      ];
      ```

```javascript
function getId(Array) {
  for (let i = 0; i < Array.length; i++) {
    console.log(Array[i].id) 
    if(Array[i].children && Array[i].children.length) {
      getId(Array[i].children)
    }
  }
}
```
